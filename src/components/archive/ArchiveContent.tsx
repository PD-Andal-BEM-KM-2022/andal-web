import ArchiveCarousel from "./ArchiveCarousel";
import { Swiper, SwiperSlide } from "swiper/react";

import "swiper/css";
import "swiper/css/effect-coverflow";

import { EffectCoverflow } from "swiper/modules";
import dayjs from "dayjs";
import Image from "next/image";
import { Dispatch, SetStateAction } from "react";

const ArchiveContent = ({
  archive,
  showContent,
  setShowContent,
}: {
  archive: any;
  showContent: number;
  setShowContent: Dispatch<SetStateAction<number>>;
}) => {
  return (
    <>
      {/* MOBILE */}
      <div
        className={`fixed top-0 left-0 z-[60] h-full w-full bg-andal-darkblue overflow-y-auto overflow-x-clip lg:hidden duration-1000 ${
          showContent == archive.id
            ? ""
            : "translate-y-full pointer-events-none"
        }`}
      >
        <div
          className={`bg-andal-lightblue flex w-full items-center p-4 gap-x-2 rounded-b-lg duration-1000`}
        >
          <button onClick={() => setShowContent(-1)}>
            <svg
              width="20"
              height="20"
              viewBox="0 0 20 20"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <g id="material-symbols:arrow-downward-rounded">
                <path
                  id="Vector"
                  d="M3.68782 10C3.68782 10.1112 3.70505 10.2153 3.73949 10.3125C3.77394 10.4098 3.8331 10.5 3.91699 10.5834L9.41699 16.0834C9.58366 16.25 9.78144 16.3334 10.0103 16.3334C10.2392 16.3334 10.4373 16.25 10.6045 16.0834C10.7712 15.9167 10.8545 15.7223 10.8545 15.5C10.8545 15.2778 10.7712 15.0834 10.6045 14.9167L6.52116 10.8334H15.8545C16.0906 10.8334 16.285 10.7534 16.4378 10.5934C16.5906 10.4334 16.667 10.2356 16.667 10C16.667 9.76393 16.587 9.56587 16.427 9.40587C16.267 9.24587 16.0692 9.16615 15.8337 9.16671H6.52116L10.6045 5.08337C10.7712 4.91671 10.8545 4.72226 10.8545 4.50004C10.8545 4.27782 10.7712 4.08337 10.6045 3.91671C10.4378 3.75004 10.2398 3.66671 10.0103 3.66671C9.78088 3.66671 9.5831 3.75004 9.41699 3.91671L3.91699 9.41671C3.83366 9.50004 3.77449 9.59032 3.73949 9.68754C3.70449 9.78476 3.68727 9.88893 3.68782 10Z"
                  fill="#040D21"
                />
              </g>
            </svg>
          </button>
          <span className="text-andal-darkblue">Kembali ke Homepage</span>
        </div>
        <div
          className={`pt-7 pb-4 lg:hidden duration-1000 ${
            showContent == archive.id ? "" : ""
          }`}
        >
          <h2 className="text-center font-extrabold mx-4 leading-tight">
            {archive.title}
          </h2>
          <div className="relative w-auto h-[320px] mt-4">
            <Swiper
              slidesPerView={1.5}
              centeredSlides={true}
              loop={true}
              modules={[EffectCoverflow]}
              effect="coverflow"
              coverflowEffect={{
                scale: 0.75,
                rotate: 0,
                stretch: 0,
                depth: 50,
                slideShadows: false,
              }}
              className="h-full"
            >
              {archive.pictures.map((img: any, i: number) => (
                <SwiperSlide key={i}>
                  <Image
                    src={`https:${img.file.url}`}
                    width={0}
                    height={0}
                    sizes="100%"
                    quality={100}
                    alt={img.title}
                    className="w-auto h-full object-cover rounded-lg border-t-2 border-l-2 border-r-2 border-andal-lightblue"
                  />
                </SwiperSlide>
              ))}
            </Swiper>
          </div>
          <div className="text-ss relative text-andal-darkblue bg-andal-lightblue rounded-lg px-3 py-4 mt-6 mx-4">
            <p className="leading-tight text-justify max-h-[270px] overflow-auto pr-2 about-home">
              {archive.description}
            </p>
            <div className="flex justify-between items-center mt-4">
              <span className="font-medium">{archive.author}</span>
              <span className="font-medium">{archive.date}</span>
            </div>
          </div>
        </div>
      </div>

      {/* DESKTOP */}
      <div
        className={`hidden lg:inline-block h-screen fixed top-0 left-0 bg-andal-lightblue z-[60] overflow-hidden duration-1000 ${
          showContent == archive.id ? "" : "translate-y-full"
        }`}
      >
        <button
          className="absolute top-10 right-10 bg-andal-light p-2 rounded-full z-50"
          onClick={() => setShowContent(-1)}
        >
          <svg
            width="14"
            height="14"
            viewBox="0 0 14 14"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M13.6899 0.320713C13.5917 0.222272 13.475 0.144172 13.3465 0.090885C13.2181 0.0375978 13.0803 0.010169 12.9413 0.010169C12.8022 0.010169 12.6645 0.0375978 12.536 0.090885C12.4076 0.144172 12.2909 0.222272 12.1926 0.320713L7 5.50274L1.80736 0.310093C1.70905 0.211782 1.59233 0.133796 1.46388 0.0805904C1.33543 0.0273845 1.19776 1.03588e-09 1.05873 0C0.919692 -1.03588e-09 0.78202 0.0273845 0.653569 0.0805904C0.525118 0.133796 0.408405 0.211782 0.310093 0.310093C0.211782 0.408405 0.133796 0.525118 0.0805904 0.653569C0.0273845 0.78202 -1.03588e-09 0.919692 0 1.05873C1.03588e-09 1.19776 0.0273845 1.33543 0.0805904 1.46388C0.133796 1.59233 0.211782 1.70905 0.310093 1.80736L5.50274 7L0.310093 12.1926C0.211782 12.291 0.133796 12.4077 0.0805904 12.5361C0.0273845 12.6646 0 12.8022 0 12.9413C0 13.0803 0.0273845 13.218 0.0805904 13.3464C0.133796 13.4749 0.211782 13.5916 0.310093 13.6899C0.408405 13.7882 0.525118 13.8662 0.653569 13.9194C0.78202 13.9726 0.919692 14 1.05873 14C1.19776 14 1.33543 13.9726 1.46388 13.9194C1.59233 13.8662 1.70905 13.7882 1.80736 13.6899L7 8.49726L12.1926 13.6899C12.291 13.7882 12.4077 13.8662 12.5361 13.9194C12.6646 13.9726 12.8022 14 12.9413 14C13.0803 14 13.218 13.9726 13.3464 13.9194C13.4749 13.8662 13.5916 13.7882 13.6899 13.6899C13.7882 13.5916 13.8662 13.4749 13.9194 13.3464C13.9726 13.218 14 13.0803 14 12.9413C14 12.8022 13.9726 12.6646 13.9194 12.5361C13.8662 12.4077 13.7882 12.291 13.6899 12.1926L8.49726 7L13.6899 1.80736C14.0934 1.40384 14.0934 0.724231 13.6899 0.320713Z"
              fill="#040D21"
            />
          </svg>
        </button>

        <div className="grid grid-cols-[1.1fr_0.9fr] text-andal-darkblue w-full h-full relative z-10 px-24 2xl:px-40 py-14 gap-x-4">
          <ArchiveCarousel />
          {/* <ArchiveCarousel images={archive.photos} /> */}
          {/* <div className="w-full h-full">
            {archive.photos.map((photo, i) => (
                <Image
                  src="/images/hero.png"
                  alt=""
                  width={0}
                  height={0}
                  sizes="100%"
                  className="w-full h-auto"
                />
            ))}
          </div> */}
          <div className="flex flex-col justify-between max-h-screen">
            <div className="">
              <h2 className="font-extrabold text-4xl leading-none mb-4">
                {archive.title}
              </h2>
              <p className="font-medium text-justify overflow-auto flex-1 max-h-[72vh]">
                {archive.description}
              </p>
            </div>
            <div className="flex justify-between mb-14 text-lg font-semibold">
              <span>{archive.initiator[0].position}</span>
              <span>{dayjs(archive.date).format("DD MMM YYYY")}</span>
            </div>
          </div>
        </div>

        {/* BACKGROUND ORNAMENT */}
        <div className="absolute top-0 left-0">
          <svg
            width={205}
            height={164}
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fillRule="evenodd"
              clipRule="evenodd"
              d="M46.03 128.813h14.883c8.22 0 14.883 6.663 14.883 14.883 0 8.219-6.664 14.882-14.883 14.882-8.22 0-14.883-6.663-14.883-14.882v-14.883zm35.187 14.883c0 11.213-9.09 20.304-20.304 20.304-11.214 0-20.304-9.091-20.304-20.304v-20.305h20.304c11.214 0 20.304 9.091 20.304 20.305zM20.304 117.97h14.883v-14.883c0-8.22-6.663-14.883-14.883-14.883-8.22 0-14.882 6.664-14.882 14.883s6.663 14.883 14.882 14.883zm0-35.187C9.091 82.783 0 91.873 0 103.087c0 11.214 9.09 20.304 20.304 20.304H40.61v-20.304c0-11.214-9.091-20.304-20.305-20.304zM46.03 117.97h14.883c8.22 0 14.883-6.664 14.883-14.883 0-8.22-6.664-14.883-14.883-14.883-8.22 0-14.883 6.664-14.883 14.883v14.883zm35.187-14.883c0-11.214-9.09-20.304-20.304-20.304-11.214 0-20.304 9.09-20.304 20.304v20.304h20.304c11.214 0 20.304-9.09 20.304-20.304zm78.319-25.813h-15.122c-8.351 0-15.122-6.77-15.122-15.122 0-8.351 6.771-15.121 15.122-15.121 8.352 0 15.122 6.77 15.122 15.121v15.122zm-35.752-15.122c0-11.394 9.236-20.63 20.63-20.63-11.394 0-20.63-9.237-20.63-20.63 0 11.393-9.237 20.63-20.631 20.63 11.394 0 20.631 9.236 20.631 20.63zm0 0c0 11.394-9.237 20.63-20.631 20.63h-20.63v-20.63c0-11.394 9.236-20.63 20.63-20.63-11.394 0-20.63-9.237-20.63-20.63V.26H103.153c11.394 0 20.631 9.237 20.631 20.631 0-11.394 9.236-20.63 20.63-20.63h20.631V20.89c0 11.394-9.237 20.63-20.631 20.63 11.394 0 20.631 9.237 20.631 20.631v20.631h-20.631c-11.394 0-20.63-9.237-20.63-20.63zm-83.175.326c0-11.214 9.09-20.304 20.304-20.304-11.214 0-20.304-9.091-20.304-20.305 0 11.214-9.09 20.305-20.305 20.305 11.214 0 20.305 9.09 20.305 20.304zM20.304 42.174C9.091 42.174 0 33.083 0 21.869V1.565h20.304c11.214 0 20.305 9.09 20.305 20.304 0-11.213 9.09-20.304 20.304-20.304h20.304v20.304c0 11.214-9.09 20.305-20.304 20.305 11.214 0 20.304 9.09 20.304 20.304v20.304H60.913c-11.214 0-20.304-9.09-20.304-20.304 0 11.214-9.09 20.304-20.305 20.304H0V62.478c0-11.214 9.09-20.304 20.304-20.304zM144.414 5.77h15.122V20.89c0 8.352-6.77 15.122-15.122 15.122-8.351 0-15.122-6.77-15.122-15.122 0-8.351 6.771-15.121 15.122-15.121zM88.032 77.274h15.121c8.352 0 15.122-6.77 15.122-15.122 0-8.351-6.77-15.121-15.122-15.121-8.351 0-15.122 6.77-15.122 15.121v15.122zM103.152 5.77H88.032V20.89c0 8.352 6.77 15.122 15.121 15.122 8.352 0 15.122-6.77 15.122-15.122 0-8.351-6.77-15.121-15.122-15.121zM20.304 128.813h14.883v14.883c0 8.219-6.663 14.882-14.883 14.882-8.22 0-14.882-6.663-14.882-14.882 0-8.22 6.663-14.883 14.882-14.883zm0 35.187C9.091 164 0 154.909 0 143.696c0-11.214 9.09-20.305 20.304-20.305H40.61v20.305c0 11.213-9.091 20.304-20.305 20.304zM170.378 36.024h14.644c8.087 0 14.643-6.556 14.643-14.643 0-8.088-6.556-14.644-14.643-14.644-8.088 0-14.644 6.556-14.644 14.644v14.643zM205 21.381c0-11.034-8.945-19.978-19.978-19.978-11.034 0-19.978 8.944-19.978 19.978v19.978h19.978c11.033 0 19.978-8.945 19.978-19.978zm-19.978 4.898h-4.899v-4.898a4.899 4.899 0 114.899 4.898zm0-15.132c5.652 0 10.234 4.582 10.234 10.234 0 5.651-4.582 10.233-10.234 10.233h-10.234V21.381c0-5.652 4.582-10.234 10.234-10.234z"
              fill="#F9B20B"
            />
          </svg>
        </div>
        <div className="absolute bottom-0 right-0">
          <svg
            width={205}
            height={164}
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            className="-scale-100"
          >
            <path
              fillRule="evenodd"
              clipRule="evenodd"
              d="M46.03 128.813h14.883c8.22 0 14.883 6.663 14.883 14.883 0 8.219-6.664 14.882-14.883 14.882-8.22 0-14.883-6.663-14.883-14.882v-14.883zm35.187 14.883c0 11.213-9.09 20.304-20.304 20.304-11.214 0-20.304-9.091-20.304-20.304v-20.305h20.304c11.214 0 20.304 9.091 20.304 20.305zM20.304 117.97h14.883v-14.883c0-8.22-6.663-14.883-14.883-14.883-8.22 0-14.882 6.664-14.882 14.883s6.663 14.883 14.882 14.883zm0-35.187C9.091 82.783 0 91.873 0 103.087c0 11.214 9.09 20.304 20.304 20.304H40.61v-20.304c0-11.214-9.091-20.304-20.305-20.304zM46.03 117.97h14.883c8.22 0 14.883-6.664 14.883-14.883 0-8.22-6.664-14.883-14.883-14.883-8.22 0-14.883 6.664-14.883 14.883v14.883zm35.187-14.883c0-11.214-9.09-20.304-20.304-20.304-11.214 0-20.304 9.09-20.304 20.304v20.304h20.304c11.214 0 20.304-9.09 20.304-20.304zm78.319-25.813h-15.122c-8.351 0-15.122-6.77-15.122-15.122 0-8.351 6.771-15.121 15.122-15.121 8.352 0 15.122 6.77 15.122 15.121v15.122zm-35.752-15.122c0-11.394 9.236-20.63 20.63-20.63-11.394 0-20.63-9.237-20.63-20.63 0 11.393-9.237 20.63-20.631 20.63 11.394 0 20.631 9.236 20.631 20.63zm0 0c0 11.394-9.237 20.63-20.631 20.63h-20.63v-20.63c0-11.394 9.236-20.63 20.63-20.63-11.394 0-20.63-9.237-20.63-20.63V.26H103.153c11.394 0 20.631 9.237 20.631 20.631 0-11.394 9.236-20.63 20.63-20.63h20.631V20.89c0 11.394-9.237 20.63-20.631 20.63 11.394 0 20.631 9.237 20.631 20.631v20.631h-20.631c-11.394 0-20.63-9.237-20.63-20.63zm-83.175.326c0-11.214 9.09-20.304 20.304-20.304-11.214 0-20.304-9.091-20.304-20.305 0 11.214-9.09 20.305-20.305 20.305 11.214 0 20.305 9.09 20.305 20.304zM20.304 42.174C9.091 42.174 0 33.083 0 21.869V1.565h20.304c11.214 0 20.305 9.09 20.305 20.304 0-11.213 9.09-20.304 20.304-20.304h20.304v20.304c0 11.214-9.09 20.305-20.304 20.305 11.214 0 20.304 9.09 20.304 20.304v20.304H60.913c-11.214 0-20.304-9.09-20.304-20.304 0 11.214-9.09 20.304-20.305 20.304H0V62.478c0-11.214 9.09-20.304 20.304-20.304zM144.414 5.77h15.122V20.89c0 8.352-6.77 15.122-15.122 15.122-8.351 0-15.122-6.77-15.122-15.122 0-8.351 6.771-15.121 15.122-15.121zM88.032 77.274h15.121c8.352 0 15.122-6.77 15.122-15.122 0-8.351-6.77-15.121-15.122-15.121-8.351 0-15.122 6.77-15.122 15.121v15.122zM103.152 5.77H88.032V20.89c0 8.352 6.77 15.122 15.121 15.122 8.352 0 15.122-6.77 15.122-15.122 0-8.351-6.77-15.121-15.122-15.121zM20.304 128.813h14.883v14.883c0 8.219-6.663 14.882-14.883 14.882-8.22 0-14.882-6.663-14.882-14.882 0-8.22 6.663-14.883 14.882-14.883zm0 35.187C9.091 164 0 154.909 0 143.696c0-11.214 9.09-20.305 20.304-20.305H40.61v20.305c0 11.213-9.091 20.304-20.305 20.304zM170.378 36.024h14.644c8.087 0 14.643-6.556 14.643-14.643 0-8.088-6.556-14.644-14.643-14.644-8.088 0-14.644 6.556-14.644 14.644v14.643zM205 21.381c0-11.034-8.945-19.978-19.978-19.978-11.034 0-19.978 8.944-19.978 19.978v19.978h19.978c11.033 0 19.978-8.945 19.978-19.978zm-19.978 4.898h-4.899v-4.898a4.899 4.899 0 114.899 4.898zm0-15.132c5.652 0 10.234 4.582 10.234 10.234 0 5.651-4.582 10.233-10.234 10.233h-10.234V21.381c0-5.652 4.582-10.234 10.234-10.234z"
              fill="#F9B20B"
            />
          </svg>
        </div>
      </div>
    </>
  );
};

export default ArchiveContent;
